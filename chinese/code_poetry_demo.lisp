;;; ä»£ç è¯—æ¼”ç¤º - Code Poetry Demo
;;; æ¼”ç¤º GoLisp çš„åŒåƒæ€§ï¼šä»£ç å³æ•°æ®ï¼Œæ•°æ®å³ä»£ç 
;;; ä½¿ç”¨å¤šä¸ª AI ä»ä¸åŒè§’åº¦åˆ†æ Lisp è¡¨è¾¾å¼

;; ä½œè€…ï¼šGerhard Quell, Claude Sonnet 4.6, Kimi 2.5
;; ç›®çš„ï¼šå±•ç¤º GoLisp çš„ homoiconicity å’Œ parfunc å¹¶è¡Œ AI è°ƒç”¨

;; ============================================
;; ç¬¬ä¸€éƒ¨åˆ†ï¼šå®šä¹‰ä»£ç ä½œä¸ºæ•°æ®
;; ============================================

; å®šä¹‰ä¸€ä¸ªé€’å½’è¡¨è¾¾å¼ä½œä¸ºæ•°æ®ï¼ˆåˆ—è¡¨ï¼‰
(define é€’å½’ä»£ç 
  '(defun é˜¶ä¹˜ (n)
     (if (= n 0)
         1
         (* n (é˜¶ä¹˜ (- n 1))))))

; å®šä¹‰ä¸€ä¸ªè¿­ä»£ç‰ˆæœ¬ï¼ˆå°¾é€’å½’ä¼˜åŒ–ï¼‰
(define å°¾é€’å½’ä»£ç 
  '(defun é˜¶ä¹˜å°¾ (n ç´¯åŠ å™¨)
     (if (= n 0)
         ç´¯åŠ å™¨
         (é˜¶ä¹˜å°¾ (- n 1) (* n ç´¯åŠ å™¨)))))

; ä»£ç ç»“æ„åˆ†æï¼šæå–å‡½æ•°åå’Œå‚æ•°
(define å‡½æ•°å (car (cdr é€’å½’ä»£ç )))
(define å‚æ•°åˆ—è¡¨ (car (cdr (cdr é€’å½’ä»£ç ))))

(println "=== ä»£ç è¯—æ¼”ç¤º | Code Poetry Demo ===")
(println "")
(println "å‡½æ•°å | Function name:")
(println å‡½æ•°å)
(println "")
(println "å‚æ•° | Parameters:")
(println å‚æ•°åˆ—è¡¨)
(println "")

;; ============================================
;; ç¬¬äºŒéƒ¨åˆ†ï¼šå¹¶è¡Œ AI åˆ†æï¼ˆå…­é¡¶æ€è€ƒå¸½é£æ ¼ï¼‰
;; ============================================

(println "=== å¯åŠ¨å¹¶è¡Œ AI åˆ†æ | Starting Parallel AI Analysis ===")
(println "")

; å°†ä»£ç è½¬æ¢ä¸ºå­—ç¬¦ä¸²ä¾› AI åˆ†æ
(define ä»£ç å­—ç¬¦ä¸²
  (string-append "(defun é˜¶ä¹˜ (n) (if (= n 0) 1 (* n (é˜¶ä¹˜ (- n 1)))))"))

; ä½¿ç”¨ parfunc å¹¶è¡ŒæŸ¥è¯¢å¤šä¸ª KI
; æ¯ä¸ª AI ä»ä¸åŒè§’åº¦åˆ†æåŒä¸€æ®µä»£ç 

(parfunc AIåˆ†æç»“æœ
  ; ğŸ”´ çº¢è‰²æ€è€ƒå¸½ï¼šæƒ…æ„Ÿå’Œç›´è§‰
  (sigo (string-append
         "ä»æƒ…æ„Ÿå’Œç›´è§‰è§’åº¦åˆ†æè¿™æ®µé€’å½’ä»£ç ï¼š"
         ä»£ç å­—ç¬¦ä¸²
         "\nç”¨ä¸€å¥è¯è¡¨è¾¾ä½ å¯¹è¿™æ®µä»£ç çš„æ„Ÿå—ã€‚åªè¾“å‡ºä¸­æ–‡ã€‚")
        "gemini-p")

  ; âš« é»‘è‰²æ€è€ƒå¸½ï¼šé£é™©å’Œæ‰¹è¯„
  (sigo (string-append
         "ä»é£é™©å’Œæ‰¹è¯„è§’åº¦åˆ†æè¿™æ®µé€’å½’ä»£ç ï¼š"
         ä»£ç å­—ç¬¦ä¸²
         "\næŒ‡å‡ºæ½œåœ¨çš„é—®é¢˜ã€‚è¾“å‡ºä¸­æ–‡ï¼Œ50å­—ä»¥å†…ã€‚")
        "gpt41")

  ; ğŸŸ¡ é»„è‰²æ€è€ƒå¸½ï¼šä¼˜ç‚¹å’Œæœºä¼š
  (sigo (string-append
         "ä»ä¼˜ç‚¹è§’åº¦åˆ†æè¿™æ®µé€’å½’ä»£ç ï¼š"
         ä»£ç å­—ç¬¦ä¸²
         "\nè¯´æ˜å®ƒçš„ä¼˜é›…ä¹‹å¤„ã€‚è¾“å‡ºä¸­æ–‡ï¼Œ50å­—ä»¥å†…ã€‚")
        "claude-h")

  ; ğŸŸ¢ ç»¿è‰²æ€è€ƒå¸½ï¼šåˆ›æ„å’Œæ”¹è¿›
  (sigo (string-append
         "å¦‚ä½•æ”¹è¿›è¿™æ®µé€’å½’ä»£ç ï¼š"
         ä»£ç å­—ç¬¦ä¸²
         "\nç»™å‡ºä¸€ä¸ªå…·ä½“çš„ä¼˜åŒ–å»ºè®®ã€‚è¾“å‡ºä¸­æ–‡ï¼Œ50å­—ä»¥å†…ã€‚")
        "gemini-p"))

(println "AI åˆ†æç»“æœ | AI Analysis Results:")
(println "")

; æ˜¾ç¤ºæ¯ä¸ª AI çš„åˆ†æ
(define æ˜¾ç¤ºç»“æœ (lambda (ç»“æœ ç´¢å¼•)
  (if (null? ç»“æœ)
      (println "")
      (begin
        (println (string-append "AI " (number->string ç´¢å¼•) ":"))
        (println (car ç»“æœ))
        (println "")
        (æ˜¾ç¤ºç»“æœ (cdr ç»“æœ) (+ ç´¢å¼• 1))))))

(æ˜¾ç¤ºç»“æœ AIåˆ†æç»“æœ 1)

;; ============================================
;; ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ‰§è¡Œä»£ç ï¼ˆæ•°æ®å˜å›ä»£ç ï¼‰
;; ============================================

(println "=== æ‰§è¡Œä»£ç  | Executing Code ===")
(println "")

; å°†æ•°æ®è½¬æ¢å›å¯æ‰§è¡Œä»£ç å¹¶å®šä¹‰
(eval é€’å½’ä»£ç )

; æµ‹è¯•é˜¶ä¹˜å‡½æ•°
(println "æµ‹è¯•é€’å½’é˜¶ä¹˜ | Testing recursive factorial:")
(println "(é˜¶ä¹˜ 5) =>")
(println (é˜¶ä¹˜ 5))
(println "")

; å®šä¹‰å°¾é€’å½’ç‰ˆæœ¬å¹¶æµ‹è¯•
(eval å°¾é€’å½’ä»£ç )

(println "æµ‹è¯•å°¾é€’å½’é˜¶ä¹˜ | Testing tail-recursive factorial:")
(println "(é˜¶ä¹˜å°¾ 10 1) =>")
(println (é˜¶ä¹˜å°¾ 10 1))
(println "")

;; ============================================
;; ç¬¬å››éƒ¨åˆ†ï¼šä»£ç å³æ•°æ®çš„é­”æ³•
;; ============================================

(println "=== åŒåƒæ€§æ¼”ç¤º | Homoiconicity Demo ===")
(println "")

; å®šä¹‰ä¸€ä¸ªå®ï¼Œå®ƒå°†ä»£ç ä½œä¸ºæ•°æ®æ“ä½œ
(defmacro å½“æˆ‘ (æ¡ä»¶ . ä¸»ä½“)
  `(if ,æ¡ä»¶
       (begin ,@ä¸»ä½“)
       ()))

; å±•ç¤ºå®å±•å¼€
(println "å®å±•å¼€ | Macro expansion:")
(println "(å½“æˆ‘ (> 5 3) (println 'ä½ å¥½) (println 'ä¸–ç•Œ))")
(println "å±•å¼€ä¸º | Expands to:")
(println (macroexpand '(å½“æˆ‘ (> 5 3) (println 'ä½ å¥½) (println 'ä¸–ç•Œ))))
(println "")

; æ‰§è¡Œå®
(println "æ‰§è¡Œå® | Executing macro:")
(å½“æˆ‘ (> 5 3)
  (println "æ¡ä»¶ä¸ºçœŸï¼| Condition is true!")
  (println "åŒåƒæ€§å¾ˆç¾ | Homoiconicity is beautiful!"))

(println "")
(println "=== æ¼”ç¤ºç»“æŸ | Demo Complete ===")
(println "")
(println "æ„Ÿè°¢ | Thank you:")
(println "- Gerhard Quell: æ¶æ„å’Œå®ç°")
(println "- Claude Sonnet 4.6: è®¾è®¡è¯„å®¡")
(println "- Kimi 2.5: æ–‡æ¡£å’Œç¤ºä¾‹")
(println "")
(println "GoLisp: ä»£ç  = æ•°æ® + AI = è‡ªæˆ‘æ‰©å±•çš„ç³»ç»Ÿ")
